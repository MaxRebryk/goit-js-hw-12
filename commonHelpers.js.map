{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\"use strict\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from 'axios';\n\nconst apiKey = \"42731864-a3c3d068e2b72bbf390461e5a\";\n\nexport async function fetchImages(searchWord,page) {\n  const params = new URLSearchParams({\n    key: apiKey,\n    q: searchWord,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n    page: page,\n    per_page: 15,\n  });\n  const response = await axios.get(`https://pixabay.com/api/?${params}`)\n  return response.data\n}\n\n\n","\"use strict\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nexport const gallery = document.querySelector(\".gallery-ul\");\nexport function renderPhoto(photo) {\n  let markup = \"\";\n  for (let key in photo.hits){\n    markup += `\n        <li class=\"gallery-item\">\n        <a href=\"${photo.hits[key].largeImageURL}\"><img class=\"photo-img\" src=\"${photo.hits[key].largeImageURL}\"></a>\n        <ul class=\"gallery-info\">\n        <li class=\"info-item\"><h3 class=\"photo-header\">Likes</h3>\n        <p class=\"photo-value\">${photo.hits[key].likes}</p></li>\n        <li class=\"info-item\"><h3 class=\"photo-header\">Views</h3>\n       <p class=\"photo-value\">${photo.hits[key].views}</p></li>\n        <li class=\"info-item\"><h3 class=\"photo-header\">Comments</h3>\n        <p class=\"photo-value\">${photo.hits[key].comments}</p></li>\n        <li class=\"info-item\"><h3 class=\"photo-header\">Downloads</h3>\n        <p class=\"photo-value\">${photo.hits[key].downloads}</p></li>\n        </ul>\n        <li>`;\n  }\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n}\n\nexport function clearGalleryHtml (){\n  gallery.innerHTML = ``;\n  \n  \n}","\"use strict\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport * as  httpFunc from  \"./js/pixabay-api.js\";\nimport * as render from \"./js/render-functions.js\";\n\nconst searchInput = document.querySelector(\".search-input\");\nconst searchButton = document.querySelector(\".search-btn\");\nconst moreButton = document.querySelector(\".more-btn\");\n\nconst loader = document.querySelector(\".loader\");\nlet gallerys = new SimpleLightbox('.gallery a', {captionsData: `alt`, captionDelay: 250,});\nlet searchWord;\nlet page = 1;\nfunction showLoader() {\n    loader.style.display = \"flex\";\n}\n\nfunction hideLoader() {\n    loader.style.display = \"none\";\n}\nsearchButton.addEventListener(\"click\", (event) =>{\n    event.preventDefault();\n    searchWord =  searchInput.value;\n    if(searchInput.value === \"\"){\n        iziToast.show({\n            title: 'Warning',\n            message: 'search input is empty!',\n            position: 'topLeft',\n            backgroundColor: \"yellow\",\n        });\n        \n    }\n    else{\n        showLoader();\n        httpFunc.fetchImages(searchWord,page = 1)\n        .then((images) => {\n            hideLoader();\n            render.clearGalleryHtml ()\n            if (images.hits.length > 0) {\n              render.renderPhoto(images);\n              gallerys.refresh();\n              moreButton.style.display = \"block\"\n            } else {\n              iziToast.show({\n                title: 'Error',\n                message: 'Image not found',\n                position: 'topLeft',\n                backgroundColor: \"red\",\n              });\n              \n            }\n          })\n        .catch((error) => {\n            hideLoader();\n            console.log(error);\n        });\n       \n        searchInput.value = \"\";\n    }});\n\n    moreButton.addEventListener(\"click\", async (event) => {\n      event.preventDefault();\n      const images = await httpFunc.fetchImages(searchWord, page);\n      showLoader();\n      try {\n        httpFunc.fetchImages(searchWord,page += 1)\n        hideLoader();\n        if (images.hits.length > 0) {\n          render.renderPhoto(images,);\n          gallerys.refresh();\n          scroll();\n        } \n        else {\n          iziToast.show({\n            title: 'Error',\n            message: 'No more images found',\n            position: 'topLeft',\n            backgroundColor: \"red\",\n          });\n          moreButton.style.display = \"none\"\n          \n        }\n      } catch (error) {\n        hideLoader();\n        console.log(error);\n      }\n    });\n\nfunction scroll () {\n  const photo = document.querySelector(\".photo-img\");\n  const sizePhoto = photo.getBoundingClientRect();\n  const squarePhoto = sizePhoto.width * sizePhoto.height;\n  window.scroll({\n    top: window.scrollY + squarePhoto, \n    left: 0,                  \n    behavior: 'smooth'         \n  });\n}\n\n"],"names":["apiKey","fetchImages","searchWord","page","params","axios","gallery","renderPhoto","photo","markup","key","clearGalleryHtml","searchInput","searchButton","moreButton","loader","gallerys","SimpleLightbox","showLoader","hideLoader","event","iziToast","httpFunc.fetchImages","images","render.clearGalleryHtml","render.renderPhoto","error","scroll","sizePhoto","squarePhoto"],"mappings":"owBAKA,MAAMA,EAAS,qCAER,eAAeC,EAAYC,EAAWC,EAAM,CACjD,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAU,EACd,CAAG,EAED,OADiB,MAAME,EAAM,IAAI,4BAA4BD,CAAM,EAAE,GACrD,IAClB,CChBO,MAAME,EAAU,SAAS,cAAc,aAAa,EACpD,SAASC,EAAYC,EAAO,CACjC,IAAIC,EAAS,GACb,QAASC,KAAOF,EAAM,KACpBC,GAAU;AAAA;AAAA,mBAEKD,EAAM,KAAKE,CAAG,EAAE,aAAa,iCAAiCF,EAAM,KAAKE,CAAG,EAAE,aAAa;AAAA;AAAA;AAAA,iCAG7EF,EAAM,KAAKE,CAAG,EAAE,KAAK;AAAA;AAAA,gCAEtBF,EAAM,KAAKE,CAAG,EAAE,KAAK;AAAA;AAAA,iCAEpBF,EAAM,KAAKE,CAAG,EAAE,QAAQ;AAAA;AAAA,iCAExBF,EAAM,KAAKE,CAAG,EAAE,SAAS;AAAA;AAAA,cAIxDJ,EAAQ,mBAAmB,YAAaG,CAAM,CAChD,CAEO,SAASE,GAAmB,CACjCL,EAAQ,UAAY,EAGtB,CCrBA,MAAMM,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAa,SAAS,cAAc,WAAW,EAE/CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAAC,aAAc,MAAO,aAAc,GAAG,CAAE,EACrFf,EACAC,EAAO,EACX,SAASe,GAAa,CAClBH,EAAO,MAAM,QAAU,MAC3B,CAEA,SAASI,GAAa,CAClBJ,EAAO,MAAM,QAAU,MAC3B,CACAF,EAAa,iBAAiB,QAAUO,GAAS,CAC7CA,EAAM,eAAc,EACpBlB,EAAcU,EAAY,MACvBA,EAAY,QAAU,GACrBS,EAAS,KAAK,CACV,MAAO,UACP,QAAS,yBACT,SAAU,UACV,gBAAiB,QAC7B,CAAS,GAIDH,IACAI,EAAqBpB,EAAWC,EAAO,CAAC,EACvC,KAAMoB,GAAW,CACdJ,IACAK,EAA0B,EACtBD,EAAO,KAAK,OAAS,GACvBE,EAAmBF,CAAM,EACzBP,EAAS,QAAO,EAChBF,EAAW,MAAM,QAAU,SAE3BO,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,kBACT,SAAU,UACV,gBAAiB,KACjC,CAAe,CAGf,CAAW,EACF,MAAOK,GAAU,CACdP,IACA,QAAQ,IAAIO,CAAK,CAC7B,CAAS,EAEDd,EAAY,MAAQ,GACvB,CAAC,EAEFE,EAAW,iBAAiB,QAAS,MAAOM,GAAU,CACpDA,EAAM,eAAc,EACpB,MAAMG,EAAS,MAAMD,EAAqBpB,EAAYC,CAAI,EAC1De,IACA,GAAI,CACFI,EAAqBpB,EAAWC,GAAQ,CAAC,EACzCgB,IACII,EAAO,KAAK,OAAS,GACvBE,EAAmBF,CAAM,EACzBP,EAAS,QAAO,EAChBW,MAGAN,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,uBACT,SAAU,UACV,gBAAiB,KAC7B,CAAW,EACDP,EAAW,MAAM,QAAU,OAG9B,OAAQY,EAAO,CACdP,IACA,QAAQ,IAAIO,CAAK,CAClB,CACP,CAAK,EAEL,SAASC,GAAU,CAEjB,MAAMC,EADQ,SAAS,cAAc,YAAY,EACzB,wBAClBC,EAAcD,EAAU,MAAQA,EAAU,OAChD,OAAO,OAAO,CACZ,IAAK,OAAO,QAAUC,EACtB,KAAM,EACN,SAAU,QACd,CAAG,CACH"}